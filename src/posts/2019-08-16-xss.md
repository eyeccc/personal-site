---
title: Learning Cross-site Scripting (XSS) - Web Security Series, part 1
date: "2019-08-16"
tags: ['xss', 'security', 'web security series']
author: "Chih-Ching Chang"
path: "/xss"
---

[One of my colleagues](http://steven5538.tw) is passionate about web security.
Recently, we asked him if he could share his security knowledge with us.
And therefore we have bi-weekly security sharing session now :D I'm going to document what I've learned from him by a series of blog posts.

---

The first topic in this series is **Cross-site Scripting (XSS)**. According to [Hackerone](https://www.hackerone.com/resources/top-10-vulnerabilities), it is in the top 10 list of most impactful vulnerability types.

A simple way to explain XSS is that your web application allows untrusted (and usually malicious) script execution. XSS is usually classified as two types: **Stored XSS** and **Reflected XSS**.

####Stored XSS

Stored XSS is a more severe type of XSS. It happens when server trusts (malicious) users' input and store it on server. Without proper HTML escaping, it will lead to permanent display on normal pages for all other users.

Below is an example, how does it cause XSS vulnerability?
Think about it for a couple minutes before I explain it ðŸ˜„

```javascript
  onIgnoreTag: function (tag, html, options) {
    // allow comment tag
    if (tag === '!--') {
      // do not filter its attributes
      return html;
    }
  }
```

The above code snippet attempts to directly return html if it is not in comment tag (e.g., `<!-- comment -->`). It seems pretty intuitive to do so. However, suppose `html` is a malicious attribute some bad guy stored on our server, then the following thing could happen. Say, if `html` is 

```
<!-- hack=" --><script>alert(1)</script>//s" -->
```

`<!-- hack=" -->` part will be looked as comment tag and be ignored. And The latter part `<script>alert(1)</script>//s" -->` will be returned as html directly. Whoever open this webpage will then trigger the malicious script `<script>alert(1)</script>` ðŸ˜±

To avoid this happening, we should implement some HTML escape check. (See the fixing example [here](https://github.com/hackmdio/codimd/pull/1112/files#diff-f2c85783e62a2acc0cdd895374568344)). 

####Reflected XSS

Another type of XSS is Reflected XSS.


#### Try it out!

There is small XSS game for you to try on [here](https://xss-game.appspot.com) if you want to get your hands on using simple technique to execute XSS attack :p

---

Again, thank [my colleague](http://steven5538.tw) for sharing these concepts.

This is the 1st post of the [Web Security Series](./tag/web-security-series/). In the next post, we will talk about CSRF. (To be continued...)